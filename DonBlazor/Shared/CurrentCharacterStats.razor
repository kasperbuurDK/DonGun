@using DonBlazor.Client;
@using DonBlazor.Containers;
@using Microsoft.AspNetCore.Components.QuickGrid
@using SharedClassLibrary
@using System.Collections.ObjectModel;
@inject ActiveContainer ActiveContainer;
@inject StateContainer StateContainer;

<h3>CurrentStats</h3>

<table class="table table-striped table-bordered">
    <thead>
        <tr>
        <th> Team </th>
        <th> Health </th>
        <th> Move </th>
        <th> Resources </th>
        <th> Position </th>
        </tr>
    </thead>
    <tbody >
        <tr>
            <td> @ActiveContainer.Game.CharacterToAct.Team </td>
            <td> @ActiveContainer.Game.CharacterToAct.HealthCurrent / @ActiveContainer.Game.CharacterToAct.HealthMax </td>
            <td> @ActiveContainer.Game.CharacterToAct.MpCur / @ActiveContainer.Game.CharacterToAct.MpMax </td>
            <td> @ActiveContainer.Game.CharacterToAct.ResourceCurrent / @ActiveContainer.Game.CharacterToAct.ResourceMax </td>
            <td> @ActiveContainer.Game.CharacterToAct.Position.ToString();</td>
        </tr>

    </tbody>

</table>


@code {

    protected override void OnInitialized()
    {
        ActiveContainer.CharactersChanged += StateHasChanged;
        ActiveContainer.CurrentCharacterChanged += StateHasChanged;
    }

}